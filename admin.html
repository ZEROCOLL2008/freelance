<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Task Submissions</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

    <div class="container mx-auto px-4 sm:px-8 py-8">
        <h1 class="text-4xl font-bold text-center text-gray-800 mb-4">Admin Dashboard</h1>
        <p class="text-center text-gray-600 mb-8">View all task submissions here.</p>

        <div class="my-6 flex flex-col sm:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-4">
                <div class="bg-blue-500 text-white p-3 rounded-lg shadow">
                    <p class="text-sm">Total Submissions</p>
                    <p id="totalCount" class="text-2xl font-bold">...</p>
                </div>
                <div class="bg-green-500 text-white p-3 rounded-lg shadow">
                    <p class="text-sm">Currently Displayed</p>
                    <p id="displayCount" class="text-2xl font-bold">...</p>
                </div>
            </div>
            <div class="flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto">
                <input type="text" id="searchInput" placeholder="Search by Register Number..." class="w-full sm:w-64 px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                
                <select id="divisionFilter" class="w-full sm:w-auto px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="">All Divisions</option>
                    <option value="Rasnavakapura">Rasnavakapura</option>
                    <option value="Wariyapola">Wariyapola</option>
                    <option value="Narammala">Narammala</option>
                    <option value="Kurunegala">Kurunegala</option>
                    <option value="Maho">Maho</option>
                    <option value="Panduwasnuwara West">Panduwasnuwara West</option>
                    <option value="Bingiriya">Bingiriya</option>
                    <option value="Kuliyapitiya West">Kuliyapitiya West</option>
                    <option value="Ehetuwewa">Ehetuwewa</option>
                    <option value="Ibbagamuwa">Ibbagamuwa</option>
                    <option value="Maspotha">Maspotha</option>
                    <option value="Polpithigama">Polpithigama</option>
                    <option value="Katupotha">Katupotha</option>
                    <option value="Redeegama">Redeegama</option>
                    <option value="Mawathagama">Mawathagama</option>
                    <option value="Mallawapitiya">Mallawapitiya</option>
                    <option value="Weerambugedara">Weerambugedara</option>
                    <option value="Kuliyapitiya East">Kuliyapitiya East</option>
                    <option value="Galgamuwa">Galgamuwa</option>
                    <option value="Bamunakotuwa">Bamunakotuwa</option>
                    <option value="Alawwa">Alawwa</option>
                    <option value="Polgahawela">Polgahawela</option>
                    <option value="Ganewattha">Ganewattha</option>
                    <option value="Panduwasnuwara East">Panduwasnuwara East</option>
                    <option value="Nikaweratiya">Nikaweratiya</option>
                    <option value="Giribawa">Giribawa</option>
                    <option value="Pannala">Pannala</option>
                    <option value="Kotawehera">Kotawehera</option>
                    <option value="Kobeigane">Kobeigane</option>
                    <option value="Ambanpola">Ambanpola</option>
                    <option value="Udubaddawa">Udubaddawa</option>
                </select>
                <input type="date" id="datePicker" class="w-full sm:w-auto px-4 py-2 border rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
        </div>

        <div class="bg-white p-6 rounded-xl shadow-lg overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Register Number</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Phone</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">District</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Task Date</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Submitted At</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Screenshot</th>
                        <th scope="col" class="px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                    </tr>
                </thead>
                <tbody id="submissionsTableBody" class="bg-white divide-y divide-gray-200">
                    </tbody>
            </table>
        </div>
    </div>

    <div id="screenshotModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 hidden">
        <div class="bg-white p-2 rounded-lg max-w-3xl max-h-[90vh] relative">
            <button id="closeModalBtn" class="absolute -top-4 -right-4 bg-red-500 text-white rounded-full w-8 h-8 font-bold text-xl">&times;</button>
            <img id="modalImage" src="" alt="Screenshot" class="max-w-full max-h-[85vh] object-contain">
        </div>
    </div>

    <script src="admin.js" type="module"></script>
</body>
</html>